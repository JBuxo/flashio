export default function BackgroundSvg({
  color,
  level,
}: {
  color: string;
  level?: string;
}) {
  let colorVars = [];
  const numOfColors = 5;

  const hslMatch = color.match(/hsl\((\d+),\s*(\d+)%?,\s*(\d+)%?\)/); // yeah I used AI for this tbh, it expects a string shaped like hsl(H, S%, L%)
  if (!hslMatch) throw new Error(" Invalid HSL Color Format");

  //   Assign the HSL colors for adjusting
  const h = parseInt(hslMatch[1]);
  const s = parseInt(hslMatch[2]);
  const l = parseInt(hslMatch[3]);

  //   define the adjustment steps
  const adjustments = [-20, -10, 0, 10, 20];

  //   Acutally apply the adjustments
  for (let i = 0; i < numOfColors; i++) {
    let newLightness = Math.max(0, Math.min(100, l + adjustments[i]));
    colorVars.push(`hsl(${h}, ${s}%, ${newLightness}%)`);
  }

  return (
    <div className={`overflow-clip `}>
      <svg
        id="canvas"
        height="auto"
        xmlns="http://www.w3.org/2000/svg"
        version="1.1"
        viewBox="0 0 400 800"
        width="auto"
        className="scale-110"
      >
        <circle
          r="687.5"
          cx="687.5"
          cy="687.5"
          fill={colorVars[3]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="675"
          cx="675"
          cy="675"
          fill={colorVars[2]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="662.5"
          cx="662.5"
          cy="662.5"
          fill={colorVars[1]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="650"
          cx="650"
          cy="650"
          fill={colorVars[1]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="637.5"
          cx="637.5"
          cy="637.5"
          fill={colorVars[0]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="625"
          cx="625"
          cy="625"
          fill={colorVars[3]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="612.5"
          cx="612.5"
          cy="612.5"
          fill={colorVars[4]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="600"
          cx="600"
          cy="600"
          fill={colorVars[4]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="587.5"
          cx="587.5"
          cy="587.5"
          fill={colorVars[3]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="575"
          cx="575"
          cy="575"
          fill={colorVars[0]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="562.5"
          cx="562.5"
          cy="562.5"
          fill={colorVars[3]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="550"
          cx="550"
          cy="550"
          fill={colorVars[0]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="537.5"
          cx="537.5"
          cy="537.5"
          fill={colorVars[4]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="525"
          cx="525"
          cy="525"
          fill={colorVars[0]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="512.5"
          cx="512.5"
          cy="512.5"
          fill={colorVars[3]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="500"
          cx="500"
          cy="500"
          fill={colorVars[1]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="487.5"
          cx="487.5"
          cy="487.5"
          fill={colorVars[0]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="475"
          cx="475"
          cy="475"
          fill={colorVars[4]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="462.5"
          cx="462.5"
          cy="462.5"
          fill={colorVars[3]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="450"
          cx="450"
          cy="450"
          fill={colorVars[3]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="437.5"
          cx="437.5"
          cy="437.5"
          fill={colorVars[1]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="425"
          cx="425"
          cy="425"
          fill={colorVars[0]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="412.5"
          cx="412.5"
          cy="412.5"
          fill={colorVars[0]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="400"
          cx="400"
          cy="400"
          fill={colorVars[3]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="387.5"
          cx="387.5"
          cy="387.5"
          fill={colorVars[3]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="375"
          cx="375"
          cy="375"
          fill={colorVars[2]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="362.5"
          cx="362.5"
          cy="362.5"
          fill={colorVars[0]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="350"
          cx="350"
          cy="350"
          fill={colorVars[2]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="337.5"
          cx="337.5"
          cy="337.5"
          fill={colorVars[0]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="325"
          cx="325"
          cy="325"
          fill={colorVars[4]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="312.5"
          cx="312.5"
          cy="312.5"
          fill={colorVars[3]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="300"
          cx="300"
          cy="300"
          fill={colorVars[3]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="287.5"
          cx="287.5"
          cy="287.5"
          fill={colorVars[2]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="275"
          cx="275"
          cy="275"
          fill={colorVars[2]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="262.5"
          cx="262.5"
          cy="262.5"
          fill={colorVars[0]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="250"
          cx="250"
          cy="250"
          fill={colorVars[0]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="237.5"
          cx="237.5"
          cy="237.5"
          fill={colorVars[0]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="225"
          cx="225"
          cy="225"
          fill={colorVars[0]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="212.5"
          cx="212.5"
          cy="212.5"
          fill={colorVars[4]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="200"
          cx="200"
          cy="200"
          fill={colorVars[0]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="187.5"
          cx="187.5"
          cy="187.5"
          fill={colorVars[0]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="175"
          cx="175"
          cy="175"
          fill={colorVars[4]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="162.5"
          cx="162.5"
          cy="162.5"
          fill={colorVars[3]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="150"
          cx="150"
          cy="150"
          fill={colorVars[3]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="137.5"
          cx="137.5"
          cy="137.5"
          fill={colorVars[1]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="125"
          cx="125"
          cy="125"
          fill={colorVars[4]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="112.5"
          cx="112.5"
          cy="112.5"
          fill={colorVars[2]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="100"
          cx="100"
          cy="100"
          fill={colorVars[4]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="87.5"
          cx="87.5"
          cy="87.5"
          fill={colorVars[0]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="75"
          cx="75"
          cy="75"
          fill={colorVars[4]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="62.5"
          cx="62.5"
          cy="62.5"
          fill={colorVars[4]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="50"
          cx="50"
          cy="50"
          fill={colorVars[3]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="37.5"
          cx="37.5"
          cy="37.5"
          fill={colorVars[3]}
          transform="matrix(1,0,0,1,0,0)"
        />
        <circle
          r="25"
          cx="25"
          cy="25"
          fill={colorVars[2]}
          transform="matrix(1,0,0,1,0,0)"
        />
      </svg>
    </div>
  );
}
